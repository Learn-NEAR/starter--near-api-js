/**
 * Minified by jsDelivr using Terser v5.14.1.
 * Original file: /npm/@near-wallet-selector/my-near-wallet@5.0.3/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
 !function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("near-api-js"),require("@near-wallet-selector/wallet-utils")):"function"==typeof define&&define.amd?define(["exports","near-api-js","@near-wallet-selector/wallet-utils"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).MyNearWallet={},t.nearApiJs,t.walletUtils)}(this,(function(t,e,n){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r&&r)||function(){return this}()||Function("return this")(),c={},a=function(t){try{return!!t()}catch(t){return!0}},u=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),f=s,l=Function.prototype.call,p=f?l.bind(l):function(){return l.apply(l,arguments)},d={},v={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,y=h&&!v.call({1:2},1);d.f=y?function(t){var e=h(this,t);return!!e&&e.enumerable}:v;var g,b,m=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=s,S=Function.prototype,j=S.bind,O=S.call,T=w&&j.bind(O,O),E=w?function(t){return t&&T(t)}:function(t){return t&&function(){return O.apply(t,arguments)}},P=E,I=P({}.toString),k=P("".slice),x=function(t){return k(I(t),8,-1)},A=E,L=a,M=x,_=i.Object,R=A("".split),F=L((function(){return!_("z").propertyIsEnumerable(0)}))?function(t){return"String"==M(t)?R(t,""):_(t)}:_,C=i.TypeError,N=function(t){if(null==t)throw C("Can't call method on "+t);return t},U=F,G=N,D=function(t){return U(G(t))},W=function(t){return"function"==typeof t},z=W,q=function(t){return"object"==typeof t?null!==t:z(t)},B=i,V=W,K=function(t){return V(t)?t:void 0},H=function(t,e){return arguments.length<2?K(B[t]):B[t]&&B[t][e]},Y=E({}.isPrototypeOf),X=H("navigator","userAgent")||"",$=i,J=X,Q=$.process,Z=$.Deno,tt=Q&&Q.versions||Z&&Z.version,et=tt&&tt.v8;et&&(b=(g=et.split("."))[0]>0&&g[0]<4?1:+(g[0]+g[1])),!b&&J&&(!(g=J.match(/Edge\/(\d+)/))||g[1]>=74)&&(g=J.match(/Chrome\/(\d+)/))&&(b=+g[1]);var nt=b,rt=nt,ot=a,it=!!Object.getOwnPropertySymbols&&!ot((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&rt&&rt<41})),ct=it&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,at=H,ut=W,st=Y,ft=ct,lt=i.Object,pt=ft?function(t){return"symbol"==typeof t}:function(t){var e=at("Symbol");return ut(e)&&st(e.prototype,lt(t))},dt=i.String,vt=function(t){try{return dt(t)}catch(t){return"Object"}},ht=W,yt=vt,gt=i.TypeError,bt=function(t){if(ht(t))return t;throw gt(yt(t)+" is not a function")},mt=bt,wt=function(t,e){var n=t[e];return null==n?void 0:mt(n)},St=p,jt=W,Ot=q,Tt=i.TypeError,Et={exports:{}},Pt=i,It=Object.defineProperty,kt=function(t,e){try{It(Pt,t,{value:e,configurable:!0,writable:!0})}catch(n){Pt[t]=e}return e},xt=kt,At="__core-js_shared__",Lt=i[At]||xt(At,{}),Mt=Lt;(Et.exports=function(t,e){return Mt[t]||(Mt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var _t=N,Rt=i.Object,Ft=function(t){return Rt(_t(t))},Ct=Ft,Nt=E({}.hasOwnProperty),Ut=Object.hasOwn||function(t,e){return Nt(Ct(t),e)},Gt=E,Dt=0,Wt=Math.random(),zt=Gt(1..toString),qt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+zt(++Dt+Wt,36)},Bt=i,Vt=Et.exports,Kt=Ut,Ht=qt,Yt=it,Xt=ct,$t=Vt("wks"),Jt=Bt.Symbol,Qt=Jt&&Jt.for,Zt=Xt?Jt:Jt&&Jt.withoutSetter||Ht,te=function(t){if(!Kt($t,t)||!Yt&&"string"!=typeof $t[t]){var e="Symbol."+t;Yt&&Kt(Jt,t)?$t[t]=Jt[t]:$t[t]=Xt&&Qt?Qt(e):Zt(e)}return $t[t]},ee=p,ne=q,re=pt,oe=wt,ie=function(t,e){var n,r;if("string"===e&&jt(n=t.toString)&&!Ot(r=St(n,t)))return r;if(jt(n=t.valueOf)&&!Ot(r=St(n,t)))return r;if("string"!==e&&jt(n=t.toString)&&!Ot(r=St(n,t)))return r;throw Tt("Can't convert object to primitive value")},ce=te,ae=i.TypeError,ue=ce("toPrimitive"),se=function(t,e){if(!ne(t)||re(t))return t;var n,r=oe(t,ue);if(r){if(void 0===e&&(e="default"),n=ee(r,t,e),!ne(n)||re(n))return n;throw ae("Can't convert object to primitive value")}return void 0===e&&(e="number"),ie(t,e)},fe=pt,le=function(t){var e=se(t,"string");return fe(e)?e:e+""},pe=q,de=i.document,ve=pe(de)&&pe(de.createElement),he=function(t){return ve?de.createElement(t):{}},ye=he,ge=!u&&!a((function(){return 7!=Object.defineProperty(ye("div"),"a",{get:function(){return 7}}).a})),be=u,me=p,we=d,Se=m,je=D,Oe=le,Te=Ut,Ee=ge,Pe=Object.getOwnPropertyDescriptor;c.f=be?Pe:function(t,e){if(t=je(t),e=Oe(e),Ee)try{return Pe(t,e)}catch(t){}if(Te(t,e))return Se(!me(we.f,t,e),t[e])};var Ie={},ke=u&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),xe=i,Ae=q,Le=xe.String,Me=xe.TypeError,_e=function(t){if(Ae(t))return t;throw Me(Le(t)+" is not an object")},Re=u,Fe=ge,Ce=ke,Ne=_e,Ue=le,Ge=i.TypeError,De=Object.defineProperty,We=Object.getOwnPropertyDescriptor,ze="enumerable",qe="configurable",Be="writable";Ie.f=Re?Ce?function(t,e,n){if(Ne(t),e=Ue(e),Ne(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Be in n&&!n.writable){var r=We(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:qe in n?n.configurable:r.configurable,enumerable:ze in n?n.enumerable:r.enumerable,writable:!1})}return De(t,e,n)}:De:function(t,e,n){if(Ne(t),e=Ue(e),Ne(n),Fe)try{return De(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ge("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Ve=Ie,Ke=m,He=u?function(t,e,n){return Ve.f(t,e,Ke(1,n))}:function(t,e,n){return t[e]=n,t},Ye={exports:{}},Xe=W,$e=Lt,Je=E(Function.toString);Xe($e.inspectSource)||($e.inspectSource=function(t){return Je(t)});var Qe,Ze,tn,en=$e.inspectSource,nn=W,rn=en,on=i.WeakMap,cn=nn(on)&&/native code/.test(rn(on)),an=Et.exports,un=qt,sn=an("keys"),fn=function(t){return sn[t]||(sn[t]=un(t))},ln={},pn=cn,dn=i,vn=E,hn=q,yn=He,gn=Ut,bn=Lt,mn=fn,wn=ln,Sn="Object already initialized",jn=dn.TypeError,On=dn.WeakMap;if(pn||bn.state){var Tn=bn.state||(bn.state=new On),En=vn(Tn.get),Pn=vn(Tn.has),In=vn(Tn.set);Qe=function(t,e){if(Pn(Tn,t))throw new jn(Sn);return e.facade=t,In(Tn,t,e),e},Ze=function(t){return En(Tn,t)||{}},tn=function(t){return Pn(Tn,t)}}else{var kn=mn("state");wn[kn]=!0,Qe=function(t,e){if(gn(t,kn))throw new jn(Sn);return e.facade=t,yn(t,kn,e),e},Ze=function(t){return gn(t,kn)?t[kn]:{}},tn=function(t){return gn(t,kn)}}var xn={set:Qe,get:Ze,has:tn,enforce:function(t){return tn(t)?Ze(t):Qe(t,{})},getterFor:function(t){return function(e){var n;if(!hn(e)||(n=Ze(e)).type!==t)throw jn("Incompatible receiver, "+t+" required");return n}}},An=u,Ln=Ut,Mn=Function.prototype,_n=An&&Object.getOwnPropertyDescriptor,Rn=Ln(Mn,"name"),Fn={EXISTS:Rn,PROPER:Rn&&"something"===function(){}.name,CONFIGURABLE:Rn&&(!An||An&&_n(Mn,"name").configurable)},Cn=i,Nn=W,Un=Ut,Gn=He,Dn=kt,Wn=en,zn=Fn.CONFIGURABLE,qn=xn.get,Bn=xn.enforce,Vn=String(String).split("String");(Ye.exports=function(t,e,n,r){var o,i=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet,u=r&&void 0!==r.name?r.name:e;Nn(n)&&("Symbol("===String(u).slice(0,7)&&(u="["+String(u).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Un(n,"name")||zn&&n.name!==u)&&Gn(n,"name",u),(o=Bn(n)).source||(o.source=Vn.join("string"==typeof u?u:""))),t!==Cn?(i?!a&&t[e]&&(c=!0):delete t[e],c?t[e]=n:Gn(t,e,n)):c?t[e]=n:Dn(e,n)})(Function.prototype,"toString",(function(){return Nn(this)&&qn(this).source||Wn(this)}));var Kn={},Hn=Math.ceil,Yn=Math.floor,Xn=function(t){var e=+t;return e!=e||0===e?0:(e>0?Yn:Hn)(e)},$n=Xn,Jn=Math.max,Qn=Math.min,Zn=Xn,tr=Math.min,er=function(t){return t>0?tr(Zn(t),9007199254740991):0},nr=function(t){return er(t.length)},rr=D,or=function(t,e){var n=$n(t);return n<0?Jn(n+e,0):Qn(n,e)},ir=nr,cr=function(t){return function(e,n,r){var o,i=rr(e),c=ir(i),a=or(r,c);if(t&&n!=n){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},ar={includes:cr(!0),indexOf:cr(!1)},ur=Ut,sr=D,fr=ar.indexOf,lr=ln,pr=E([].push),dr=function(t,e){var n,r=sr(t),o=0,i=[];for(n in r)!ur(lr,n)&&ur(r,n)&&pr(i,n);for(;e.length>o;)ur(r,n=e[o++])&&(~fr(i,n)||pr(i,n));return i},vr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hr=dr,yr=vr.concat("length","prototype");Kn.f=Object.getOwnPropertyNames||function(t){return hr(t,yr)};var gr={};gr.f=Object.getOwnPropertySymbols;var br=H,mr=Kn,wr=gr,Sr=_e,jr=E([].concat),Or=br("Reflect","ownKeys")||function(t){var e=mr.f(Sr(t)),n=wr.f;return n?jr(e,n(t)):e},Tr=Ut,Er=Or,Pr=c,Ir=Ie,kr=a,xr=W,Ar=/#|\.prototype\./,Lr=function(t,e){var n=_r[Mr(t)];return n==Fr||n!=Rr&&(xr(e)?kr(e):!!e)},Mr=Lr.normalize=function(t){return String(t).replace(Ar,".").toLowerCase()},_r=Lr.data={},Rr=Lr.NATIVE="N",Fr=Lr.POLYFILL="P",Cr=Lr,Nr=i,Ur=c.f,Gr=He,Dr=Ye.exports,Wr=kt,zr=function(t,e,n){for(var r=Er(e),o=Ir.f,i=Pr.f,c=0;c<r.length;c++){var a=r[c];Tr(t,a)||n&&Tr(n,a)||o(t,a,i(e,a))}},qr=Cr,Br=function(t,e){var n,r,o,i,c,a=t.target,u=t.global,s=t.stat;if(n=u?Nr:s?Nr[a]||Wr(a,{}):(Nr[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(c=Ur(n,r))&&c.value:n[r],!qr(u?r:a+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;zr(i,o)}(t.sham||o&&o.sham)&&Gr(i,"sham",!0),Dr(n,r,i,t)}},Vr=dr,Kr=vr,Hr=Object.keys||function(t){return Vr(t,Kr)},Yr=u,Xr=E,$r=p,Jr=a,Qr=Hr,Zr=gr,to=d,eo=Ft,no=F,ro=Object.assign,oo=Object.defineProperty,io=Xr([].concat),co=!ro||Jr((function(){if(Yr&&1!==ro({b:1},ro(oo({},"a",{enumerable:!0,get:function(){oo(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=ro({},t)[n]||Qr(ro({},e)).join("")!=r}))?function(t,e){for(var n=eo(t),r=arguments.length,o=1,i=Zr.f,c=to.f;r>o;)for(var a,u=no(arguments[o++]),s=i?io(Qr(u),i(u)):Qr(u),f=s.length,l=0;f>l;)a=s[l++],Yr&&!$r(c,u,a)||(n[a]=u[a]);return n}:ro,ao=co;Br({target:"Object",stat:!0,forced:Object.assign!==ao},{assign:ao});var uo={},so=u,fo=ke,lo=Ie,po=_e,vo=D,ho=Hr;uo.f=so&&!fo?Object.defineProperties:function(t,e){po(t);for(var n,r=vo(e),o=ho(e),i=o.length,c=0;i>c;)lo.f(t,n=o[c++],r[n]);return t};var yo,go=H("document","documentElement"),bo=_e,mo=uo,wo=vr,So=ln,jo=go,Oo=he,To=fn("IE_PROTO"),Eo=function(){},Po=function(t){return"<script>"+t+"</"+"script>"},Io=function(t){t.write(Po("")),t.close();var e=t.parentWindow.Object;return t=null,e},ko=function(){try{yo=new ActiveXObject("htmlfile")}catch(t){}var t,e;ko="undefined"!=typeof document?document.domain&&yo?Io(yo):((e=Oo("iframe")).style.display="none",jo.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Po("document.F=Object")),t.close(),t.F):Io(yo);for(var n=wo.length;n--;)delete ko.prototype[wo[n]];return ko()};So[To]=!0;var xo=Object.create||function(t,e){var n;return null!==t?(Eo.prototype=bo(t),n=new Eo,Eo.prototype=null,n[To]=t):n=ko(),void 0===e?n:mo.f(n,e)},Ao=xo,Lo=Ie,Mo=te("unscopables"),_o=Array.prototype;null==_o[Mo]&&Lo.f(_o,Mo,{configurable:!0,value:Ao(null)});var Ro,Fo,Co,No={},Uo=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Go=i,Do=Ut,Wo=W,zo=Ft,qo=Uo,Bo=fn("IE_PROTO"),Vo=Go.Object,Ko=Vo.prototype,Ho=qo?Vo.getPrototypeOf:function(t){var e=zo(t);if(Do(e,Bo))return e[Bo];var n=e.constructor;return Wo(n)&&e instanceof n?n.prototype:e instanceof Vo?Ko:null},Yo=a,Xo=W,$o=Ho,Jo=Ye.exports,Qo=te("iterator"),Zo=!1;[].keys&&("next"in(Co=[].keys())?(Fo=$o($o(Co)))!==Object.prototype&&(Ro=Fo):Zo=!0);var ti=null==Ro||Yo((function(){var t={};return Ro[Qo].call(t)!==t}));ti&&(Ro={}),Xo(Ro[Qo])||Jo(Ro,Qo,(function(){return this}));var ei={IteratorPrototype:Ro,BUGGY_SAFARI_ITERATORS:Zo},ni=Ie.f,ri=Ut,oi=te("toStringTag"),ii=function(t,e,n){t&&!n&&(t=t.prototype),t&&!ri(t,oi)&&ni(t,oi,{configurable:!0,value:e})},ci=ei.IteratorPrototype,ai=xo,ui=m,si=ii,fi=No,li=function(){return this},pi=i,di=W,vi=pi.String,hi=pi.TypeError,yi=E,gi=_e,bi=function(t){if("object"==typeof t||di(t))return t;throw hi("Can't set "+vi(t)+" as a prototype")},mi=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=yi(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return gi(n),bi(r),e?t(n,r):n.__proto__=r,n}}():void 0),wi=Br,Si=p,ji=Fn,Oi=W,Ti=function(t,e,n,r){var o=e+" Iterator";return t.prototype=ai(ci,{next:ui(+!r,n)}),si(t,o,!1),fi[o]=li,t},Ei=Ho,Pi=mi,Ii=ii,ki=He,xi=Ye.exports,Ai=No,Li=ji.PROPER,Mi=ji.CONFIGURABLE,_i=ei.IteratorPrototype,Ri=ei.BUGGY_SAFARI_ITERATORS,Fi=te("iterator"),Ci="keys",Ni="values",Ui="entries",Gi=function(){return this},Di=D,Wi=function(t){_o[Mo][t]=!0},zi=No,qi=xn,Bi=Ie.f,Vi=function(t,e,n,r,o,i,c){Ti(n,e,r);var a,u,s,f=function(t){if(t===o&&h)return h;if(!Ri&&t in d)return d[t];switch(t){case Ci:case Ni:case Ui:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,d=t.prototype,v=d[Fi]||d["@@iterator"]||o&&d[o],h=!Ri&&v||f(o),y="Array"==e&&d.entries||v;if(y&&(a=Ei(y.call(new t)))!==Object.prototype&&a.next&&(Ei(a)!==_i&&(Pi?Pi(a,_i):Oi(a[Fi])||xi(a,Fi,Gi)),Ii(a,l,!0)),Li&&o==Ni&&v&&v.name!==Ni&&(Mi?ki(d,"name",Ni):(p=!0,h=function(){return Si(v,this)})),o)if(u={values:f(Ni),keys:i?h:f(Ci),entries:f(Ui)},c)for(s in u)(Ri||p||!(s in d))&&xi(d,s,u[s]);else wi({target:e,proto:!0,forced:Ri||p},u);return d[Fi]!==h&&xi(d,Fi,h,{name:o}),Ai[e]=h,u},Ki=u,Hi="Array Iterator",Yi=qi.set,Xi=qi.getterFor(Hi),$i=Vi(Array,"Array",(function(t,e){Yi(this,{type:Hi,target:Di(t),index:0,kind:e})}),(function(){var t=Xi(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),Ji=zi.Arguments=zi.Array;if(Wi("keys"),Wi("values"),Wi("entries"),Ki&&"values"!==Ji.name)try{Bi(Ji,"name",{value:"values"})}catch(t){}var Qi=i.Promise,Zi=Ye.exports,tc=H,ec=Ie,nc=u,rc=te("species"),oc=Y,ic=i.TypeError,cc=bt,ac=s,uc=E(E.bind),sc=function(t,e){return cc(t),void 0===e?t:ac?uc(t,e):function(){return t.apply(e,arguments)}},fc=No,lc=te("iterator"),pc=Array.prototype,dc={};dc[te("toStringTag")]="z";var vc=i,hc="[object z]"===String(dc),yc=W,gc=x,bc=te("toStringTag"),mc=vc.Object,wc="Arguments"==gc(function(){return arguments}()),Sc=hc?gc:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=mc(t),bc))?n:wc?gc(e):"Object"==(r=gc(e))&&yc(e.callee)?"Arguments":r},jc=Sc,Oc=wt,Tc=No,Ec=te("iterator"),Pc=function(t){if(null!=t)return Oc(t,Ec)||Oc(t,"@@iterator")||Tc[jc(t)]},Ic=p,kc=bt,xc=_e,Ac=vt,Lc=Pc,Mc=i.TypeError,_c=p,Rc=_e,Fc=wt,Cc=sc,Nc=p,Uc=_e,Gc=vt,Dc=function(t){return void 0!==t&&(fc.Array===t||pc[lc]===t)},Wc=nr,zc=Y,qc=function(t,e){var n=arguments.length<2?Lc(t):e;if(kc(n))return xc(Ic(n,t));throw Mc(Ac(t)+" is not iterable")},Bc=Pc,Vc=function(t,e,n){var r,o;Rc(t);try{if(!(r=Fc(t,"return"))){if("throw"===e)throw n;return n}r=_c(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Rc(r),n},Kc=i.TypeError,Hc=function(t,e){this.stopped=t,this.result=e},Yc=Hc.prototype,Xc=te("iterator"),$c=!1;try{var Jc=0,Qc={next:function(){return{done:!!Jc++}},return:function(){$c=!0}};Qc[Xc]=function(){return this},Array.from(Qc,(function(){throw 2}))}catch(t){}var Zc=E,ta=a,ea=W,na=Sc,ra=en,oa=function(){},ia=[],ca=H("Reflect","construct"),aa=/^\s*(?:class|function)\b/,ua=Zc(aa.exec),sa=!aa.exec(oa),fa=function(t){if(!ea(t))return!1;try{return ca(oa,ia,t),!0}catch(t){return!1}},la=function(t){if(!ea(t))return!1;switch(na(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return sa||!!ua(aa,ra(t))}catch(t){return!0}};la.sham=!0;var pa,da,va,ha,ya=!ca||ta((function(){var t;return fa(fa.call)||!fa(Object)||!fa((function(){t=!0}))||t}))?la:fa,ga=ya,ba=vt,ma=i.TypeError,wa=_e,Sa=function(t){if(ga(t))return t;throw ma(ba(t)+" is not a constructor")},ja=te("species"),Oa=s,Ta=Function.prototype,Ea=Ta.apply,Pa=Ta.call,Ia="object"==typeof Reflect&&Reflect.apply||(Oa?Pa.bind(Ea):function(){return Pa.apply(Ea,arguments)}),ka=E([].slice),xa=i.TypeError,Aa=/(?:ipad|iphone|ipod).*applewebkit/i.test(X),La="process"==x(i.process),Ma=i,_a=Ia,Ra=sc,Fa=W,Ca=Ut,Na=a,Ua=go,Ga=ka,Da=he,Wa=function(t,e){if(t<e)throw xa("Not enough arguments");return t},za=Aa,qa=La,Ba=Ma.setImmediate,Va=Ma.clearImmediate,Ka=Ma.process,Ha=Ma.Dispatch,Ya=Ma.Function,Xa=Ma.MessageChannel,$a=Ma.String,Ja=0,Qa={},Za="onreadystatechange";try{pa=Ma.location}catch(t){}var tu=function(t){if(Ca(Qa,t)){var e=Qa[t];delete Qa[t],e()}},eu=function(t){return function(){tu(t)}},nu=function(t){tu(t.data)},ru=function(t){Ma.postMessage($a(t),pa.protocol+"//"+pa.host)};Ba&&Va||(Ba=function(t){Wa(arguments.length,1);var e=Fa(t)?t:Ya(t),n=Ga(arguments,1);return Qa[++Ja]=function(){_a(e,void 0,n)},da(Ja),Ja},Va=function(t){delete Qa[t]},qa?da=function(t){Ka.nextTick(eu(t))}:Ha&&Ha.now?da=function(t){Ha.now(eu(t))}:Xa&&!za?(ha=(va=new Xa).port2,va.port1.onmessage=nu,da=Ra(ha.postMessage,ha)):Ma.addEventListener&&Fa(Ma.postMessage)&&!Ma.importScripts&&pa&&"file:"!==pa.protocol&&!Na(ru)?(da=ru,Ma.addEventListener("message",nu,!1)):da=Za in Da("script")?function(t){Ua.appendChild(Da("script")).onreadystatechange=function(){Ua.removeChild(this),tu(t)}}:function(t){setTimeout(eu(t),0)});var ou,iu,cu,au,uu,su,fu,lu,pu={set:Ba,clear:Va},du=i,vu=/ipad|iphone|ipod/i.test(X)&&void 0!==du.Pebble,hu=/web0s(?!.*chrome)/i.test(X),yu=i,gu=sc,bu=c.f,mu=pu.set,wu=Aa,Su=vu,ju=hu,Ou=La,Tu=yu.MutationObserver||yu.WebKitMutationObserver,Eu=yu.document,Pu=yu.process,Iu=yu.Promise,ku=bu(yu,"queueMicrotask"),xu=ku&&ku.value;xu||(ou=function(){var t,e;for(Ou&&(t=Pu.domain)&&t.exit();iu;){e=iu.fn,iu=iu.next;try{e()}catch(t){throw iu?au():cu=void 0,t}}cu=void 0,t&&t.enter()},wu||Ou||ju||!Tu||!Eu?!Su&&Iu&&Iu.resolve?((fu=Iu.resolve(void 0)).constructor=Iu,lu=gu(fu.then,fu),au=function(){lu(ou)}):Ou?au=function(){Pu.nextTick(ou)}:(mu=gu(mu,yu),au=function(){mu(ou)}):(uu=!0,su=Eu.createTextNode(""),new Tu(ou).observe(su,{characterData:!0}),au=function(){su.data=uu=!uu}));var Au=xu||function(t){var e={fn:t,next:void 0};cu&&(cu.next=e),iu||(iu=e,au()),cu=e},Lu={},Mu=bt,_u=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Mu(e),this.reject=Mu(n)};Lu.f=function(t){return new _u(t)};var Ru=_e,Fu=q,Cu=Lu,Nu=i,Uu=function(){this.head=null,this.tail=null};Uu.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var Gu,Du,Wu,zu,qu=Uu,Bu="object"==typeof window,Vu=Br,Ku=i,Hu=H,Yu=p,Xu=Qi,$u=Ye.exports,Ju=function(t,e,n){for(var r in e)Zi(t,r,e[r],n);return t},Qu=mi,Zu=ii,ts=function(t){var e=tc(t),n=ec.f;nc&&e&&!e[rc]&&n(e,rc,{configurable:!0,get:function(){return this}})},es=bt,ns=W,rs=q,os=function(t,e){if(oc(e,t))return t;throw ic("Incorrect invocation")},is=en,cs=function(t,e,n){var r,o,i,c,a,u,s,f=n&&n.that,l=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=Cc(e,f),h=function(t){return r&&Vc(r,"normal",t),new Hc(!0,t)},y=function(t){return l?(Uc(t),d?v(t[0],t[1],h):v(t[0],t[1])):d?v(t,h):v(t)};if(p)r=t;else{if(!(o=Bc(t)))throw Kc(Gc(t)+" is not iterable");if(Dc(o)){for(i=0,c=Wc(t);c>i;i++)if((a=y(t[i]))&&zc(Yc,a))return a;return new Hc(!1)}r=qc(t,o)}for(u=r.next;!(s=Nc(u,r)).done;){try{a=y(s.value)}catch(t){Vc(r,"throw",t)}if("object"==typeof a&&a&&zc(Yc,a))return a}return new Hc(!1)},as=function(t,e){if(!e&&!$c)return!1;var n=!1;try{var r={};r[Xc]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},us=function(t,e){var n,r=wa(t).constructor;return void 0===r||null==(n=wa(r)[ja])?e:Sa(n)},ss=pu.set,fs=Au,ls=function(t,e){if(Ru(t),Fu(e)&&e.constructor===t)return e;var n=Cu.f(t);return(0,n.resolve)(e),n.promise},ps=function(t,e){var n=Nu.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))},ds=Lu,vs=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},hs=qu,ys=xn,gs=Cr,bs=Bu,ms=La,ws=nt,Ss=te("species"),js="Promise",Os=ys.getterFor(js),Ts=ys.set,Es=ys.getterFor(js),Ps=Xu&&Xu.prototype,Is=Xu,ks=Ps,xs=Ku.TypeError,As=Ku.document,Ls=Ku.process,Ms=ds.f,_s=Ms,Rs=!!(As&&As.createEvent&&Ku.dispatchEvent),Fs=ns(Ku.PromiseRejectionEvent),Cs="unhandledrejection",Ns=!1,Us=gs(js,(function(){var t=is(Is),e=t!==String(Is);if(!e&&66===ws)return!0;if(ws>=51&&/native code/.test(t))return!1;var n=new Is((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[Ss]=r,!(Ns=n.then((function(){}))instanceof r)||!e&&bs&&!Fs})),Gs=Us||!as((function(t){Is.all(t).catch((function(){}))})),Ds=function(t){var e;return!(!rs(t)||!ns(e=t.then))&&e},Ws=function(t,e){var n,r,o,i=e.value,c=1==e.state,a=c?t.ok:t.fail,u=t.resolve,s=t.reject,f=t.domain;try{a?(c||(2===e.rejection&&Ks(e),e.rejection=1),!0===a?n=i:(f&&f.enter(),n=a(i),f&&(f.exit(),o=!0)),n===t.promise?s(xs("Promise-chain cycle")):(r=Ds(n))?Yu(r,n,u,s):u(n)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},zs=function(t,e){t.notified||(t.notified=!0,fs((function(){for(var n,r=t.reactions;n=r.get();)Ws(n,t);t.notified=!1,e&&!t.rejection&&Bs(t)})))},qs=function(t,e,n){var r,o;Rs?((r=As.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),Ku.dispatchEvent(r)):r={promise:e,reason:n},!Fs&&(o=Ku["on"+t])?o(r):t===Cs&&ps("Unhandled promise rejection",n)},Bs=function(t){Yu(ss,Ku,(function(){var e,n=t.facade,r=t.value;if(Vs(t)&&(e=vs((function(){ms?Ls.emit("unhandledRejection",r,n):qs(Cs,n,r)})),t.rejection=ms||Vs(t)?2:1,e.error))throw e.value}))},Vs=function(t){return 1!==t.rejection&&!t.parent},Ks=function(t){Yu(ss,Ku,(function(){var e=t.facade;ms?Ls.emit("rejectionHandled",e):qs("rejectionhandled",e,t.value)}))},Hs=function(t,e,n){return function(r){t(e,r,n)}},Ys=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,zs(t,!0))},Xs=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw xs("Promise can't be resolved itself");var r=Ds(e);r?fs((function(){var n={done:!1};try{Yu(r,e,Hs(Xs,n,t),Hs(Ys,n,t))}catch(e){Ys(n,e,t)}})):(t.value=e,t.state=1,zs(t,!1))}catch(e){Ys({done:!1},e,t)}}};if(Us&&(ks=(Is=function(t){os(this,ks),es(t),Yu(Gu,this);var e=Os(this);try{t(Hs(Xs,e),Hs(Ys,e))}catch(t){Ys(e,t)}}).prototype,(Gu=function(t){Ts(this,{type:js,done:!1,notified:!1,parent:!1,reactions:new hs,rejection:!1,state:0,value:void 0})}).prototype=Ju(ks,{then:function(t,e){var n=Es(this),r=Ms(us(this,Is));return n.parent=!0,r.ok=!ns(t)||t,r.fail=ns(e)&&e,r.domain=ms?Ls.domain:void 0,0==n.state?n.reactions.add(r):fs((function(){Ws(r,n)})),r.promise},catch:function(t){return this.then(void 0,t)}}),Du=function(){var t=new Gu,e=Os(t);this.promise=t,this.resolve=Hs(Xs,e),this.reject=Hs(Ys,e)},ds.f=Ms=function(t){return t===Is||t===Wu?new Du(t):_s(t)},ns(Xu)&&Ps!==Object.prototype)){zu=Ps.then,Ns||($u(Ps,"then",(function(t,e){var n=this;return new Is((function(t,e){Yu(zu,n,t,e)})).then(t,e)}),{unsafe:!0}),$u(Ps,"catch",ks.catch,{unsafe:!0}));try{delete Ps.constructor}catch(t){}Qu&&Qu(Ps,ks)}Vu({global:!0,wrap:!0,forced:Us},{Promise:Is}),Zu(Is,js,!1),ts(js),Wu=Hu(js),Vu({target:js,stat:!0,forced:Us},{reject:function(t){var e=Ms(this);return Yu(e.reject,void 0,t),e.promise}}),Vu({target:js,stat:!0,forced:Us},{resolve:function(t){return ls(this,t)}}),Vu({target:js,stat:!0,forced:Gs},{all:function(t){var e=this,n=Ms(e),r=n.resolve,o=n.reject,i=vs((function(){var n=es(e.resolve),i=[],c=0,a=1;cs(t,(function(t){var u=c++,s=!1;a++,Yu(n,e,t).then((function(t){s||(s=!0,i[u]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=Ms(e),r=n.reject,o=vs((function(){var o=es(e.resolve);cs(t,(function(t){Yu(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var $s=he("span").classList,Js=$s&&$s.constructor&&$s.constructor.prototype,Qs=Js===Object.prototype?void 0:Js,Zs=i,tf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ef=Qs,nf=$i,rf=He,of=te,cf=of("iterator"),af=of("toStringTag"),uf=nf.values,sf=function(t,e){if(t){if(t[cf]!==uf)try{rf(t,cf,uf)}catch(e){t[cf]=uf}if(t[af]||rf(t,af,e),tf[e])for(var n in nf)if(t[n]!==nf[n])try{rf(t,n,nf[n])}catch(e){t[n]=nf[n]}}};for(var ff in tf)sf(Zs[ff]&&Zs[ff].prototype,ff);
 /*! *****************************************************************************
	 Copyright (c) Microsoft Corporation.
 
	 Permission to use, copy, modify, and/or distribute this software for any
	 purpose with or without fee is hereby granted.
 
	 THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	 REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	 AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	 INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	 LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	 OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	 PERFORMANCE OF THIS SOFTWARE.
	 ***************************************************************************** */
 function lf(t,e,n,r){return new(n||(n=Promise))((function(o,i){function c(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}u((r=r.apply(t,e||[])).next())}))}sf(ef,"DOMTokenList");const pf=(t,e)=>{if(e)return e;switch(t.networkId){case"mainnet":return"https://app.mynearwallet.com";case"testnet":return"https://testnet.mynearwallet.com";default:throw new Error("Invalid wallet url")}},df=({options:t,store:r,params:o,logger:i})=>lf(void 0,void 0,void 0,(function*(){const c=yield((t,n)=>lf(void 0,void 0,void 0,(function*(){const r=new e.keyStores.BrowserLocalStorageKeyStore,o=yield e.connect(Object.assign(Object.assign({keyStore:r,walletUrl:t.walletUrl},n),{headers:{}})),i=new e.WalletConnection(o,"near_app");return i.isSignedIn()||(yield r.clear()),{wallet:i,keyStore:r}})))(o,t.network),a=()=>{const t=c.wallet.getAccountId();return t?[{accountId:t}]:[]},u=t=>lf(void 0,void 0,void 0,(function*(){const r=c.wallet.account(),{networkId:o,signer:i,provider:a}=r.connection,u=yield i.getPublicKey(r.accountId,o);return Promise.all(t.map(((t,o)=>lf(void 0,void 0,void 0,(function*(){const i=t.actions.map((t=>n.createAction(t))),c=yield r.accessKeyForTransaction(t.receiverId,i,u);if(!c)throw new Error(`Failed to find matching key for transaction sent to ${t.receiverId}`);const s=yield a.block({finality:"final"});return e.transactions.createTransaction(r.accountId,e.utils.PublicKey.from(c.public_key),t.receiverId,c.access_key.nonce+o+1,i,e.utils.serialize.base_decode(s.header.hash))})))))}));return{signIn({contractId:t,methodNames:e}){return lf(this,void 0,void 0,(function*(){const n=a();return n.length?n:(yield c.wallet.requestSignIn({contractId:t,methodNames:e}),a())}))},signOut(){return lf(this,void 0,void 0,(function*(){c.wallet.isSignedIn()&&c.wallet.signOut(),c.keyStore.clear()}))},getAccounts(){return lf(this,void 0,void 0,(function*(){return a()}))},signAndSendTransaction({signerId:t,receiverId:e,actions:o,callbackUrl:a}){return lf(this,void 0,void 0,(function*(){i.log("signAndSendTransaction",{signerId:t,receiverId:e,actions:o,callbackUrl:a});const{contract:u}=r.getState();if(!c.wallet.isSignedIn()||!u)throw new Error("Wallet not signed in");return c.wallet.account().signAndSendTransaction({receiverId:e||u.contractId,actions:o.map((t=>n.createAction(t))),walletCallbackUrl:a})}))},signAndSendTransactions({transactions:t,callbackUrl:e}){return lf(this,void 0,void 0,(function*(){if(i.log("signAndSendTransactions",{transactions:t,callbackUrl:e}),!c.wallet.isSignedIn())throw new Error("Wallet not signed in");return c.wallet.requestSignTransactions({transactions:yield u(t),callbackUrl:e})}))}}}));t.setupMyNearWallet=function({walletUrl:t,iconUrl:e="./assets/my-near-wallet-icon.png"}={}){return()=>lf(this,void 0,void 0,(function*(){return{id:"my-near-wallet",type:"browser",metadata:{name:"MyNearWallet",description:null,iconUrl:e,deprecated:!1,available:!0},init:e=>df(Object.assign(Object.assign({},e),{params:{walletUrl:pf(e.options.network,t)}}))}}))},Object.defineProperty(t,"__esModule",{value:!0})}));