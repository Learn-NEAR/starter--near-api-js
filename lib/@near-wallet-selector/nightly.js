/**
 * Minified by jsDelivr using Terser v5.14.1.
 * Original file: /npm/@near-wallet-selector/nightly@5.0.3/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
 !function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@near-wallet-selector/core"),require("@near-wallet-selector/wallet-utils"),require("is-mobile"),require("near-api-js")):"function"==typeof define&&define.amd?define(["exports","@near-wallet-selector/core","@near-wallet-selector/wallet-utils","is-mobile","near-api-js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Nightly={},t.core,t.walletUtils,t.isMobile,t.nearApiJs)}(this,(function(t,e,n,r,o){"use strict";var i,c,u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=function(t){try{return!!t()}catch(t){return!0}},s=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),l=s,f=Function.prototype,p=f.bind,d=f.call,y=l&&p.bind(d,d),g=l?function(t){return t&&y(t)}:function(t){return t&&function(){return d.apply(t,arguments)}},v=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h=function(t){return t&&t.Math==Math&&t},b=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof u&&u)||function(){return this}()||Function("return this")(),m=b.TypeError,w=function(t){if(null==t)throw m("Can't call method on "+t);return t},S=w,O=b.Object,j=function(t){return O(S(t))},T=j,P=g({}.hasOwnProperty),I=Object.hasOwn||function(t,e){return P(T(t),e)},E=v,L=I,A=Function.prototype,x=E&&Object.getOwnPropertyDescriptor,_=L(A,"name"),k={EXISTS:_,PROPER:_&&"something"===function(){}.name,CONFIGURABLE:_&&(!E||E&&x(A,"name").configurable)},M={exports:{}},R=function(t){return"function"==typeof t},F={},C=R,N=function(t){return"object"==typeof t?null!==t:C(t)},G=N,D=b.document,U=G(D)&&G(D.createElement),K=function(t){return U?D.createElement(t):{}},z=K,V=!v&&!a((function(){return 7!=Object.defineProperty(z("div"),"a",{get:function(){return 7}}).a})),B=v&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),W=b,q=N,H=W.String,Y=W.TypeError,X=function(t){if(q(t))return t;throw Y(H(t)+" is not an object")},J=s,$=Function.prototype.call,Q=J?$.bind($):function(){return $.apply($,arguments)},Z=b,tt=R,et=function(t){return tt(t)?t:void 0},nt=function(t,e){return arguments.length<2?et(Z[t]):Z[t]&&Z[t][e]},rt=g({}.isPrototypeOf),ot=b,it=nt("navigator","userAgent")||"",ct=ot.process,ut=ot.Deno,at=ct&&ct.versions||ut&&ut.version,st=at&&at.v8;st&&(c=(i=st.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!c&&it&&(!(i=it.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=it.match(/Chrome\/(\d+)/))&&(c=+i[1]);var lt=c,ft=a,pt=!!Object.getOwnPropertySymbols&&!ft((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&lt&&lt<41})),dt=pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,yt=nt,gt=R,vt=rt,ht=dt,bt=b.Object,mt=ht?function(t){return"symbol"==typeof t}:function(t){var e=yt("Symbol");return gt(e)&&vt(e.prototype,bt(t))},wt=b.String,St=R,Ot=function(t){try{return wt(t)}catch(t){return"Object"}},jt=b.TypeError,Tt=function(t){if(St(t))return t;throw jt(Ot(t)+" is not a function")},Pt=Q,It=R,Et=N,Lt=b.TypeError,At={exports:{}},xt=b,_t=Object.defineProperty,kt=function(t,e){try{_t(xt,t,{value:e,configurable:!0,writable:!0})}catch(n){xt[t]=e}return e},Mt=kt,Rt="__core-js_shared__",Ft=b[Rt]||Mt(Rt,{}),Ct=Ft;(At.exports=function(t,e){return Ct[t]||(Ct[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Nt=g,Gt=0,Dt=Math.random(),Ut=Nt(1..toString),Kt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Ut(++Gt+Dt,36)},zt=b,Vt=At.exports,Bt=I,Wt=Kt,qt=pt,Ht=dt,Yt=Vt("wks"),Xt=zt.Symbol,Jt=Xt&&Xt.for,$t=Ht?Xt:Xt&&Xt.withoutSetter||Wt,Qt=function(t){if(!Bt(Yt,t)||!qt&&"string"!=typeof Yt[t]){var e="Symbol."+t;qt&&Bt(Xt,t)?Yt[t]=Xt[t]:Yt[t]=Ht&&Jt?Jt(e):$t(e)}return Yt[t]},Zt=Q,te=N,ee=mt,ne=function(t,e){var n=t[e];return null==n?void 0:Tt(n)},re=function(t,e){var n,r;if("string"===e&&It(n=t.toString)&&!Et(r=Pt(n,t)))return r;if(It(n=t.valueOf)&&!Et(r=Pt(n,t)))return r;if("string"!==e&&It(n=t.toString)&&!Et(r=Pt(n,t)))return r;throw Lt("Can't convert object to primitive value")},oe=Qt,ie=b.TypeError,ce=oe("toPrimitive"),ue=function(t,e){if(!te(t)||ee(t))return t;var n,r=ne(t,ce);if(r){if(void 0===e&&(e="default"),n=Zt(r,t,e),!te(n)||ee(n))return n;throw ie("Can't convert object to primitive value")}return void 0===e&&(e="number"),re(t,e)},ae=mt,se=function(t){var e=ue(t,"string");return ae(e)?e:e+""},le=v,fe=V,pe=B,de=X,ye=se,ge=b.TypeError,ve=Object.defineProperty,he=Object.getOwnPropertyDescriptor,be="enumerable",me="configurable",we="writable";F.f=le?pe?function(t,e,n){if(de(t),e=ye(e),de(n),"function"==typeof t&&"prototype"===e&&"value"in n&&we in n&&!n.writable){var r=he(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:me in n?n.configurable:r.configurable,enumerable:be in n?n.enumerable:r.enumerable,writable:!1})}return ve(t,e,n)}:ve:function(t,e,n){if(de(t),e=ye(e),de(n),fe)try{return ve(t,e,n)}catch(t){}if("get"in n||"set"in n)throw ge("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Se=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Oe=F,je=Se,Te=v?function(t,e,n){return Oe.f(t,e,je(1,n))}:function(t,e,n){return t[e]=n,t},Pe=R,Ie=Ft,Ee=g(Function.toString);Pe(Ie.inspectSource)||(Ie.inspectSource=function(t){return Ee(t)});var Le,Ae,xe,_e=Ie.inspectSource,ke=R,Me=_e,Re=b.WeakMap,Fe=ke(Re)&&/native code/.test(Me(Re)),Ce=At.exports,Ne=Kt,Ge=Ce("keys"),De=function(t){return Ge[t]||(Ge[t]=Ne(t))},Ue={},Ke=Fe,ze=b,Ve=g,Be=N,We=Te,qe=I,He=Ft,Ye=De,Xe=Ue,Je="Object already initialized",$e=ze.TypeError,Qe=ze.WeakMap;if(Ke||He.state){var Ze=He.state||(He.state=new Qe),tn=Ve(Ze.get),en=Ve(Ze.has),nn=Ve(Ze.set);Le=function(t,e){if(en(Ze,t))throw new $e(Je);return e.facade=t,nn(Ze,t,e),e},Ae=function(t){return tn(Ze,t)||{}},xe=function(t){return en(Ze,t)}}else{var rn=Ye("state");Xe[rn]=!0,Le=function(t,e){if(qe(t,rn))throw new $e(Je);return e.facade=t,We(t,rn,e),e},Ae=function(t){return qe(t,rn)?t[rn]:{}},xe=function(t){return qe(t,rn)}}var on={set:Le,get:Ae,has:xe,enforce:function(t){return xe(t)?Ae(t):Le(t,{})},getterFor:function(t){return function(e){var n;if(!Be(e)||(n=Ae(e)).type!==t)throw $e("Incompatible receiver, "+t+" required");return n}}},cn=b,un=R,an=I,sn=Te,ln=kt,fn=_e,pn=k.CONFIGURABLE,dn=on.get,yn=on.enforce,gn=String(String).split("String");(M.exports=function(t,e,n,r){var o,i=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet,a=r&&void 0!==r.name?r.name:e;un(n)&&("Symbol("===String(a).slice(0,7)&&(a="["+String(a).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!an(n,"name")||pn&&n.name!==a)&&sn(n,"name",a),(o=yn(n)).source||(o.source=gn.join("string"==typeof a?a:""))),t!==cn?(i?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=n:sn(t,e,n)):c?t[e]=n:ln(e,n)})(Function.prototype,"toString",(function(){return un(this)&&dn(this).source||fn(this)}));var vn={};vn[Qt("toStringTag")]="z";var hn="[object z]"===String(vn),bn=g,mn=bn({}.toString),wn=bn("".slice),Sn=function(t){return wn(mn(t),8,-1)},On=b,jn=hn,Tn=R,Pn=Sn,In=Qt("toStringTag"),En=On.Object,Ln="Arguments"==Pn(function(){return arguments}()),An=jn?Pn:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=En(t),In))?n:Ln?Pn(e):"Object"==(r=Pn(e))&&Tn(e.callee)?"Arguments":r},xn=b.String,_n=X,kn=g,Mn=k.PROPER,Rn=M.exports,Fn=X,Cn=rt,Nn=function(t){if("Symbol"===An(t))throw TypeError("Cannot convert a Symbol value to a string");return xn(t)},Gn=a,Dn=function(){var t=_n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Un="toString",Kn=RegExp.prototype,zn=Kn.toString,Vn=kn(Dn),Bn=Gn((function(){return"/a/b"!=zn.call({source:"a",flags:"b"})})),Wn=Mn&&zn.name!=Un;(Bn||Wn)&&Rn(RegExp.prototype,Un,(function(){var t=Fn(this),e=Nn(t.source),n=t.flags;return"/"+e+"/"+Nn(void 0===n&&Cn(Kn,t)&&!("flags"in Kn)?Vn(t):n)}),{unsafe:!0});var qn=g,Hn=a,Yn=Sn,Xn=b.Object,Jn=qn("".split),$n=Hn((function(){return!Xn("z").propertyIsEnumerable(0)}))?function(t){return"String"==Yn(t)?Jn(t,""):Xn(t)}:Xn,Qn=w,Zn=function(t){return $n(Qn(t))},tr={},er=Math.ceil,nr=Math.floor,rr=function(t){var e=+t;return e!=e||0===e?0:(e>0?nr:er)(e)},or=rr,ir=Math.max,cr=Math.min,ur=rr,ar=Math.min,sr=function(t){return t>0?ar(ur(t),9007199254740991):0},lr=Zn,fr=function(t,e){var n=or(t);return n<0?ir(n+e,0):cr(n,e)},pr=function(t){return sr(t.length)},dr=function(t){return function(e,n,r){var o,i=lr(e),c=pr(i),u=fr(r,c);if(t&&n!=n){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((t||u in i)&&i[u]===n)return t||u||0;return!t&&-1}},yr={includes:dr(!0),indexOf:dr(!1)},gr=I,vr=Zn,hr=yr.indexOf,br=Ue,mr=g([].push),wr=function(t,e){var n,r=vr(t),o=0,i=[];for(n in r)!gr(br,n)&&gr(r,n)&&mr(i,n);for(;e.length>o;)gr(r,n=e[o++])&&(~hr(i,n)||mr(i,n));return i},Sr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Or=wr,jr=Sr,Tr=Object.keys||function(t){return Or(t,jr)},Pr=v,Ir=B,Er=F,Lr=X,Ar=Zn,xr=Tr;tr.f=Pr&&!Ir?Object.defineProperties:function(t,e){Lr(t);for(var n,r=Ar(e),o=xr(e),i=o.length,c=0;i>c;)Er.f(t,n=o[c++],r[n]);return t};var _r,kr=nt("document","documentElement"),Mr=X,Rr=tr,Fr=Sr,Cr=Ue,Nr=kr,Gr=K,Dr=De("IE_PROTO"),Ur=function(){},Kr=function(t){return"<script>"+t+"</"+"script>"},zr=function(t){t.write(Kr("")),t.close();var e=t.parentWindow.Object;return t=null,e},Vr=function(){try{_r=new ActiveXObject("htmlfile")}catch(t){}var t,e;Vr="undefined"!=typeof document?document.domain&&_r?zr(_r):((e=Gr("iframe")).style.display="none",Nr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Kr("document.F=Object")),t.close(),t.F):zr(_r);for(var n=Fr.length;n--;)delete Vr.prototype[Fr[n]];return Vr()};Cr[Dr]=!0;var Br=Object.create||function(t,e){var n;return null!==t?(Ur.prototype=Mr(t),n=new Ur,Ur.prototype=null,n[Dr]=t):n=Vr(),void 0===e?n:Rr.f(n,e)},Wr=Br,qr=F,Hr=Qt("unscopables"),Yr=Array.prototype;null==Yr[Hr]&&qr.f(Yr,Hr,{configurable:!0,value:Wr(null)});var Xr={},Jr={},$r={},Qr={}.propertyIsEnumerable,Zr=Object.getOwnPropertyDescriptor,to=Zr&&!Qr.call({1:2},1);$r.f=to?function(t){var e=Zr(this,t);return!!e&&e.enumerable}:Qr;var eo=v,no=Q,ro=$r,oo=Se,io=Zn,co=se,uo=I,ao=V,so=Object.getOwnPropertyDescriptor;Jr.f=eo?so:function(t,e){if(t=io(t),e=co(e),ao)try{return so(t,e)}catch(t){}if(uo(t,e))return oo(!no(ro.f,t,e),t[e])};var lo={},fo=wr,po=Sr.concat("length","prototype");lo.f=Object.getOwnPropertyNames||function(t){return fo(t,po)};var yo={};yo.f=Object.getOwnPropertySymbols;var go,vo,ho,bo=nt,mo=lo,wo=yo,So=X,Oo=g([].concat),jo=bo("Reflect","ownKeys")||function(t){var e=mo.f(So(t)),n=wo.f;return n?Oo(e,n(t)):e},To=I,Po=jo,Io=Jr,Eo=F,Lo=a,Ao=R,xo=/#|\.prototype\./,_o=function(t,e){var n=Mo[ko(t)];return n==Fo||n!=Ro&&(Ao(e)?Lo(e):!!e)},ko=_o.normalize=function(t){return String(t).replace(xo,".").toLowerCase()},Mo=_o.data={},Ro=_o.NATIVE="N",Fo=_o.POLYFILL="P",Co=_o,No=b,Go=Jr.f,Do=Te,Uo=M.exports,Ko=kt,zo=function(t,e,n){for(var r=Po(e),o=Eo.f,i=Io.f,c=0;c<r.length;c++){var u=r[c];To(t,u)||n&&To(n,u)||o(t,u,i(e,u))}},Vo=Co,Bo=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Wo=b,qo=I,Ho=R,Yo=j,Xo=Bo,Jo=De("IE_PROTO"),$o=Wo.Object,Qo=$o.prototype,Zo=Xo?$o.getPrototypeOf:function(t){var e=Yo(t);if(qo(e,Jo))return e[Jo];var n=e.constructor;return Ho(n)&&e instanceof n?n.prototype:e instanceof $o?Qo:null},ti=a,ei=R,ni=Zo,ri=M.exports,oi=Qt("iterator"),ii=!1;[].keys&&("next"in(ho=[].keys())?(vo=ni(ni(ho)))!==Object.prototype&&(go=vo):ii=!0);var ci=null==go||ti((function(){var t={};return go[oi].call(t)!==t}));ci&&(go={}),ei(go[oi])||ri(go,oi,(function(){return this}));var ui={IteratorPrototype:go,BUGGY_SAFARI_ITERATORS:ii},ai=F.f,si=I,li=Qt("toStringTag"),fi=function(t,e,n){t&&!n&&(t=t.prototype),t&&!si(t,li)&&ai(t,li,{configurable:!0,value:e})},pi=ui.IteratorPrototype,di=Br,yi=Se,gi=fi,vi=Xr,hi=function(){return this},bi=b,mi=R,wi=bi.String,Si=bi.TypeError,Oi=g,ji=X,Ti=function(t){if("object"==typeof t||mi(t))return t;throw Si("Can't set "+wi(t)+" as a prototype")},Pi=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Oi(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return ji(n),Ti(r),e?t(n,r):n.__proto__=r,n}}():void 0),Ii=function(t,e){var n,r,o,i,c,u=t.target,a=t.global,s=t.stat;if(n=a?No:s?No[u]||Ko(u,{}):(No[u]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(c=Go(n,r))&&c.value:n[r],!Vo(a?r:u+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;zo(i,o)}(t.sham||o&&o.sham)&&Do(i,"sham",!0),Uo(n,r,i,t)}},Ei=Q,Li=k,Ai=R,xi=function(t,e,n,r){var o=e+" Iterator";return t.prototype=di(pi,{next:yi(+!r,n)}),gi(t,o,!1),vi[o]=hi,t},_i=Zo,ki=Pi,Mi=fi,Ri=Te,Fi=M.exports,Ci=Xr,Ni=Li.PROPER,Gi=Li.CONFIGURABLE,Di=ui.IteratorPrototype,Ui=ui.BUGGY_SAFARI_ITERATORS,Ki=Qt("iterator"),zi="keys",Vi="values",Bi="entries",Wi=function(){return this},qi=Zn,Hi=function(t){Yr[Hr][t]=!0},Yi=Xr,Xi=on,Ji=F.f,$i=function(t,e,n,r,o,i,c){xi(n,e,r);var u,a,s,l=function(t){if(t===o&&g)return g;if(!Ui&&t in d)return d[t];switch(t){case zi:case Vi:case Bi:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",p=!1,d=t.prototype,y=d[Ki]||d["@@iterator"]||o&&d[o],g=!Ui&&y||l(o),v="Array"==e&&d.entries||y;if(v&&(u=_i(v.call(new t)))!==Object.prototype&&u.next&&(_i(u)!==Di&&(ki?ki(u,Di):Ai(u[Ki])||Fi(u,Ki,Wi)),Mi(u,f,!0)),Ni&&o==Vi&&y&&y.name!==Vi&&(Gi?Ri(d,"name",Vi):(p=!0,g=function(){return Ei(y,this)})),o)if(a={values:l(Vi),keys:i?g:l(zi),entries:l(Bi)},c)for(s in a)(Ui||p||!(s in d))&&Fi(d,s,a[s]);else Ii({target:e,proto:!0,forced:Ui||p},a);return d[Ki]!==g&&Fi(d,Ki,g,{name:o}),Ci[e]=g,a},Qi=v,Zi="Array Iterator",tc=Xi.set,ec=Xi.getterFor(Zi),nc=$i(Array,"Array",(function(t,e){tc(this,{type:Zi,target:qi(t),index:0,kind:e})}),(function(){var t=ec(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),rc=Yi.Arguments=Yi.Array;if(Hi("keys"),Hi("values"),Hi("entries"),Qi&&"values"!==rc.name)try{Ji(rc,"name",{value:"values"})}catch(t){}var oc=K("span").classList,ic=oc&&oc.constructor&&oc.constructor.prototype,cc=ic===Object.prototype?void 0:ic,uc=b,ac={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},sc=cc,lc=nc,fc=Te,pc=Qt,dc=pc("iterator"),yc=pc("toStringTag"),gc=lc.values,vc=function(t,e){if(t){if(t[dc]!==gc)try{fc(t,dc,gc)}catch(e){t[dc]=gc}if(t[yc]||fc(t,yc,e),ac[e])for(var n in lc)if(t[n]!==lc[n])try{fc(t,n,lc[n])}catch(e){t[n]=lc[n]}}};for(var hc in ac)vc(uc[hc]&&uc[hc].prototype,hc);
 /*! *****************************************************************************
	 Copyright (c) Microsoft Corporation.
 
	 Permission to use, copy, modify, and/or distribute this software for any
	 purpose with or without fee is hereby granted.
 
	 THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	 REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	 AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	 INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	 LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	 OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	 PERFORMANCE OF THIS SOFTWARE.
	 ***************************************************************************** */
 function bc(t,e,n,r){return new(n||(n=Promise))((function(o,i){function c(t){try{a(r.next(t))}catch(t){i(t)}}function u(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,u)}a((r=r.apply(t,e||[])).next())}))}vc(sc,"DOMTokenList");const mc=({options:t,store:e,logger:r,provider:i})=>bc(void 0,void 0,void 0,(function*(){const c=yield(t=>bc(void 0,void 0,void 0,(function*(){const{selectedWalletId:e}=t.getState(),n=window.nightly.near;return"nightly"===e&&(yield n.connect(void 0,!0).catch((()=>null))),{wallet:n}})))(e),u=()=>{const{accountId:t,publicKey:e}=c.wallet.account;return t?[{accountId:t,publicKey:e.toString()}]:[]},a=t=>{const n=u(),{contract:r}=e.getState();if(!n.length||!r)throw new Error("Wallet not signed in");return t.map((t=>({signerId:t.signerId||n[0].accountId,receiverId:t.receiverId||r.contractId,actions:t.actions})))},s={createKey:()=>{throw new Error("Not implemented")},getPublicKey:t=>bc(void 0,void 0,void 0,(function*(){const e=u().find((e=>e.accountId===t));if(!e)throw new Error("Failed to find public key for account");return o.utils.PublicKey.from(e.publicKey)})),signMessage:(t,e)=>bc(void 0,void 0,void 0,(function*(){if(!u().find((t=>t.accountId===e)))throw new Error("Failed to find account for signing");try{const e=o.transactions.Transaction.decode(Buffer.from(t));return{signature:(yield c.wallet.signTransaction(e)).signature.data,publicKey:e.publicKey}}catch(t){throw r.log("Failed to sign message"),r.error(t),Error("Invalid message. Only transactions can be signed")}}))};return{signIn(){return bc(this,void 0,void 0,(function*(){const t=u();return t.length?t:(yield c.wallet.connect(),u())}))},signOut(){return bc(this,void 0,void 0,(function*(){yield c.wallet.disconnect()}))},getAccounts(){return bc(this,void 0,void 0,(function*(){return u().map((({accountId:t})=>({accountId:t})))}))},signAndSendTransaction({signerId:o,receiverId:c,actions:l}){return bc(this,void 0,void 0,(function*(){r.log("signAndSendTransaction",{signerId:o,receiverId:c,actions:l});const{contract:f}=e.getState();if(!u().length||!f)throw new Error("Wallet not signed in");const[p]=yield n.signTransactions(a([{signerId:o,receiverId:c,actions:l}]),s,t.network);return i.sendTransaction(p)}))},signAndSendTransactions({transactions:e}){return bc(this,void 0,void 0,(function*(){r.log("signAndSendTransactions",{transactions:e});const o=yield n.signTransactions(a(e),s,t.network),c=[];for(let t=0;t<o.length;t++)c.push(yield i.sendTransaction(o[t]));return c}))}}}));t.setupNightly=function({iconUrl:t="./assets/nightly.png"}={}){return()=>bc(this,void 0,void 0,(function*(){const n=r.isMobile(),o=yield e.waitFor((()=>!!window.nightly.near)).catch((()=>!1));return n?null:(yield e.waitFor((()=>{var t;return!!(null===(t=window.nightly)||void 0===t?void 0:t.near)}),{timeout:300}).catch((()=>!1)),{id:"nightly",type:"injected",metadata:{name:"Nightly",description:null,iconUrl:t,downloadUrl:"https://www.nightly.app",deprecated:!1,available:o},init:mc})}))},Object.defineProperty(t,"__esModule",{value:!0})}));